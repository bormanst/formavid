<VirtualHost *:443>
    ServerName support.sedhostname
    ServerAdmin  webmaster@localhost
    UseCanonicalName Off
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    PythonOptimize On
    Alias /support/docs /var/www/support/docs/html
    Alias /support/theme /var/www/drupal7/sites/all/themes/sedlowername
    AliasMatch ^/support/@@file/(.*) /var/www/support/html/$1
    AliasMatch ^/support/(?!@@file/)(.*) /var/www/support/dummy.py/$1
    <Directory /var/www/support>
        Require all granted
        AllowOverride None
        Options None
        AddHandler python-program .py
        PythonHandler roundup.cgi.apache
        PythonOption TrackerHome /var/www/support
        PythonOption TrackerLanguage en
    </Directory>
</VirtualHost>

<VirtualHost *:80>
    ServerName support.sedhostname
    ServerAdmin  webmaster@localhost
    UseCanonicalName Off
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    RedirectPermanent / "https://support.sedhostname/support/"
</VirtualHost>
