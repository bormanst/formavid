<VirtualHost *:443>
    ServerName admin.sedhostname
    ServerAdmin admin@sedhostname
    UseCanonicalName Off
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    Alias /theme /var/www/drupal7/sites/all/themes/sedlowername
    DocumentRoot /var/www/admin
    <Directory "/var/www/admin">
        Order deny,allow
        Deny from all
        Satisfy Any
        AuthName "password protected area"
        AuthType Basic
        Require valid-user
        AuthBasicProvider dbm
        AuthDBMUserFile /usr/local/apache2/passwd/admintools/passwords.dbm
    </Directory>
    <Location /server-status>
        SetHandler server-status
        Order deny,allow
        Deny from all
        Satisfy Any
        Options none
        Allow from localhost ip6-localhost
        AuthName "password protected area"
        AuthType Basic
        Require valid-user
        AuthBasicProvider dbm
        AuthDBMUserFile /usr/local/apache2/passwd/admintools/passwords.dbm
    </Location>
</VirtualHost>

<VirtualHost *:80>
    ServerName admin.sedhostname
    ServerAdmin admin@sedhostname
    UseCanonicalName Off
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    RedirectPermanent / "https://admin.sedhostname/"
</VirtualHost>
